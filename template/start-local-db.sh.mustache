#!/bin/bash
echo "ðŸ³ Starting PostgreSQL for local development..."
docker-compose up -d postgres

echo "â³ Waiting for PostgreSQL to be ready..."
until docker-compose exec postgres pg_isready -U {{module.name}}-user -d {{module.name}}-db > /dev/null 2>&1; do
  sleep 1
done

echo "âœ… PostgreSQL is ready!"
echo "ðŸ“‹ Database connection details:"
echo "   Host: localhost"
echo "   Port: 5432"
echo "   Database: {{module.name}}-db"
echo "   Username: {{module.name}}-user"
echo "   Password: {{module.name}}-pwd"
echo ""
echo "ðŸš€ To run the application with local profile:"
echo "   ./gradlew bootRun --args='--spring.profiles.active=local'"